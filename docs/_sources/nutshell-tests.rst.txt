.. NutShell test demo doc file
   generated automatically by
   util/make-tests.sh
   mpeura@mpeura10kl
   (do not edit!)

.. _tests:

=====
Tests
=====

This tests are run prior to publishing a release. The tests apply both command line invocations
and http queries.
   


Initial tests
=============

 - Java version. The commands below have been prefixed with ``NUTSHELL_VERSION=java``.


Help command
------------

::

  nutshell --help
  # return value: 0

Unknown command
---------------

::

  nutshell --foo
  # return value: 2

Undefined action
----------------

::

  nutshell --actions FOO
  # return value: 2

Parsing error
-------------

::

  nutshell 12345_pdf
  # return value: 1

Undefined product
-----------------

::

  nutshell foo.pdf
  # return value: 2
 - Python version. The commands below have been prefixed with ``NUTSHELL_VERSION=python``.


Help command
------------

::

  nutshell --help
  # return value: 0

Unknown command
---------------

::

  nutshell --foo
  # return value: 2

Undefined action
----------------

::

  nutshell --actions FOO
  # return value: 2

Parsing error
-------------

::

  nutshell 12345_pdf
  # return value: 1

Undefined product
-----------------

::

  nutshell foo.pdf
  # return value: 1

Testing Cmd and Http interfaces
===============================


Tests
=====

 - Java version. The commands below have been prefixed with ``NUTSHELL_VERSION=java``.


*Default action (MAKE)*
::

  nutshell 201412161845_demo.image.pattern_HEIGHT=200_PATTERN=OCTAGONS_WIDTH=300.png
  # return value: 1

*Does product file exist?*
::

  nutshell --exists 201412161845_demo.image.pattern_HEIGHT=200_PATTERN=OCTAGONS_WIDTH=300.png
  # return value: 1

*Action: DELETE product file*
::

  nutshell --delete 201412161845_demo.image.pattern_HEIGHT=200_PATTERN=OCTAGONS_WIDTH=300.png
  # return value: 1
::

  nutshell --exists 201412161845_demo.image.pattern_HEIGHT=200_PATTERN=OCTAGONS_WIDTH=300.png
  # return value: 2

*Action: MAKE product (generate, if nonexistent)*
::

  nutshell --make 201412161845_demo.image.pattern_HEIGHT=200_PATTERN=OCTAGONS_WIDTH=300.png
  # return value: 1

*Action: GENERATE (unconditionally)*
::

  nutshell --make 201412161845_demo.image.pattern_HEIGHT=200_PATTERN=OCTAGONS_WIDTH=300.png
  # return value: 1

*Parameters in wrong order (generated file has them in order)*
Generated file has them in order.

::

  nutshell --generate demo.image.pattern_WIDTH=300_HEIGHT=200_PATTERN=OCTAGONS.png
  # return value: 1

*Product error messages*

Initial check - valid generation
--------------------------------

::

  nutshell --generate demo.image.pattern_HEIGHT=200_PATTERN=OCTAGONS_WIDTH=300.png
  # return value: 1

*Error test: image too large*
::

  nutshell --generate demo.image.pattern_WIDTH=1200_HEIGHT=1200_PATTERN=OCTAGONS.png
  # return value: 2

*Error test: Illegal (negative) arguments*
::

  nutshell --generate demo.image.pattern_WIDTH=-300_HEIGHT=-200_PATTERN=OCTAGONS.png
  # return value: 2

*Error test: Unsupported feature*
::

  nutshell --generate demo.image.pattern_WIDTH=200_HEIGHT=200_PATTERN=SQUARE.png
  # return value: 2

*Error test: Unsupported file format*
::

  nutshell --generate demo.image.pattern_WIDTH=200_HEIGHT=200_PATTERN=OCTAGONS.pdf
  # return value: 2

Tests
=====

 - Python version. The commands below have been prefixed with ``NUTSHELL_VERSION=python``.


*Default action (MAKE)*
::

  nutshell 201412161845_demo.image.pattern_HEIGHT=200_PATTERN=OCTAGONS_WIDTH=300.png
  # return value: 0
