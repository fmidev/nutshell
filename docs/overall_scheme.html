<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Overall Scheme &mdash; NutShell 0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/nutshell-logo.ico"/>
    <link rel="top" title="NutShell 0.2 documentation" href="index.html" />
    <link rel="next" title="Using NutShell" href="nutshell-main.html" />
    <link rel="prev" title="Welcome to NutShell’s documentation!" href="index.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
          <p class="logo"><a href="index.html">
            <img class="logo" src="_static/nutshell-logo-small.png" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="index.html">NutShell 0.2 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="index.html" title="Welcome to NutShell’s documentation!"
             accesskey="P">previous</a> |
          <a href="nutshell-main.html" title="Using NutShell"
             accesskey="N">next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="overall-scheme">
<h1>Overall Scheme<a class="headerlink" href="#overall-scheme" title="Permalink to this headline">¶</a></h1>
<div class="section" id="three-interfaces-of-using-nutshell">
<h2>Three interfaces of using NutShell<a class="headerlink" href="#three-interfaces-of-using-nutshell" title="Permalink to this headline">¶</a></h2>
<p>Product requests can be sent to NutShell in three different ways.
These options are illustrated in the image below.
The simplest way is to use the command line, calling Python module
<code class="docutils literal"><span class="pre">nutshell.nutshell</span></code>, giving configuration file and desired product
as parameters:</p>
<div class="highlight-python"><div class="highlight"><pre>python3 -m nutshell.nutshell -c demo/nutshell-demo.cnf -p 201708121600_image.pattern_SIZE=100,100.png
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">--make</span> <span class="pre">--product</span> <span class="pre">&lt;product&gt;</span></code>,
<code class="docutils literal"><span class="pre">--make</span> <span class="pre">--product</span> <span class="pre">&lt;product&gt;</span></code>,</p>
<p>Secondly, within a <strong>Python program</strong> or Python interpreter NutShell can be applied as a library,
invoked minimally as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">nutshell.nutshell</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">server</span> <span class="o">=</span> <span class="n">nutshell</span><span class="o">.</span><span class="n">nutshell</span><span class="o">.</span><span class="n">ProductServer</span><span class="p">(</span><span class="s1">&#39;nutshell/nutshell.cnf&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s2">&quot;201708121600_image.pattern_SIZE=100,100.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Upon success, <code class="docutils literal"><span class="pre">response.returncode</span></code> is nonzero and the generated
or existing product file is available on disk in <code class="docutils literal"><span class="pre">response.path</span></code>.</p>
<p>Finally, one my start <strong>HTTP server</strong> module <code class="docutils literal"><span class="pre">nutshell.httpd</span></code> essentially by invoking:</p>
<div class="highlight-python"><div class="highlight"><pre>python3  -m nutshell.httpd -c nutshell.cnf
</pre></div>
</div>
<p>Then, the service is accessible through a URL of type <code class="docutils literal"><span class="pre">http://&lt;SERVER&gt;:&lt;PORT&gt;/?&lt;REQUESTS&gt;</span></code> ,
on local host as <code class="docutils literal"><span class="pre">http://127.0.0.1:8088/nutshell/server</span></code> for example.
The port can be set in configuration file or on command line.</p>
<p>More details in <a class="reference internal" href="#status-codes">status-codes</a></p>
<p>Further, typically services are installed by super-user in system level startup directories &#8211; consult
your admin for details.</p>
<p>Clicking on this internal hyperlink will take us to the <a href="#id1"><span class="problematic" id="id2">target_</span></a>
below.</p>
<p id="status-codes">The hyperlink target above points to this paragraph.</p>
<img alt="_images/nutshell-scheme-dot.png" src="_images/nutshell-scheme-dot.png" />
<ul class="simple">
<li>query form</li>
<li>error messages</li>
<li>product info</li>
<li>input info</li>
<li>server status</li>
</ul>
<img alt="_images/nutshell-variables-dot.png" src="_images/nutshell-variables-dot.png" />
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Overall Scheme</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#three-interfaces-of-using-nutshell">Three interfaces of using NutShell</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nutshell-main.html">Using NutShell</a></li>
<li class="toctree-l1"><a class="reference internal" href="nutshell.html">Product requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Commands</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
            <p class="searchtip" style="font-size: 90%">
                Enter search terms or a module, class or function name.
            </p>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="index.html" title="Welcome to NutShell’s documentation!"
              >previous</a> |
            <a href="nutshell-main.html" title="Using NutShell"
              >next</a> |
            <a href="py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/overall_scheme.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &copy; Copyright 2020, Markus Peura.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>