<?xml version="1.0" encoding="ISO-8859-1"?>
<web-app xmlns="http://java.sun.com/xml/ns/javaee"
	 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	 xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
	 version="2.5" > 


  <description>NutShell - product server</description>

  <display-name>NutShell</display-name>



  <!-- allow directory listings /-->
  <servlet>
    <servlet-name>tomcat_default</servlet-name>
    <servlet-class>org.apache.catalina.servlets.DefaultServlet</servlet-class>
    <init-param>
      <param-name>debug</param-name>
      <param-value>0</param-value>
    </init-param>
    <init-param>
      <param-name>listings</param-name>
      <param-value>true</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
  </servlet>

  <servlet-mapping>
    <servlet-name>tomcat_default</servlet-name>
    <!-- TO DO: selective /-->
    <url-pattern>/</url-pattern>
  </servlet-mapping>


  
  <!-- NutShell conf $USER $HOSTNAME /-->

  <servlet>

    <servlet-name>NutShell</servlet-name>
    <servlet-class>nutshell9.Nutlet</servlet-class>

    <!-- CHECK -->
    <init-param>
      <param-name>NUTSHELL_CONF</param-name>
      <param-value>${NUTSHELL_CONF}</param-value>
    </init-param>

    <!-- Current... -->
    <init-param>
      <param-name>HTML_ROOT</param-name>
      <param-value>${HTML_ROOT}</param-value>
    </init-param>

    <init-param>
      <param-name>HTML_TEMPLATE</param-name>
      <param-value>${HTML_TEMPLATE}</param-value>
      <!-- param-value>style/template.html</param-value -->
    </init-param>


    <!-- init-param>
      <param-name>buildDate</param-name>
      <param-value>DATE</param-value>
    </init-param -->

    <init-param>
      <param-name>buildBy</param-name>
      <param-value>${USER}@${HOSTNAME}</param-value>
    </init-param>

  </servlet>

  <servlet-mapping>
    <servlet-name>NutShell</servlet-name>
    <url-pattern>/NutShell</url-pattern>
  </servlet-mapping>


  
  <error-page>
    <error-code>404</error-code>
    <location>/NutShell?page=resolve&amp;oldproduct=resolve</location>
  </error-page>

  <servlet-mapping>
    <servlet-name>tomcat_default</servlet-name>
    <url-pattern>/cache/*</url-pattern>
  </servlet-mapping>

  <servlet-mapping>
    <servlet-name>tomcat_default</servlet-name>
    <url-pattern>/products/*</url-pattern>
  </servlet-mapping>


  <servlet-mapping>
    <servlet-name>NutShell</servlet-name>
    <url-pattern>*.html</url-pattern>
  </servlet-mapping>


  <!-- NutShell conf END /-->

</web-app>
